import{u as g,a as j,r as a,j as e,L as c}from"./index-C-bofkHd.js";import{a as N}from"./pets-yUH3lGM-.js";import{g as v,A as y}from"./tutores-Cr8ILfQa.js";import{M as w,a as P,C as p}from"./mocks-V_Tt4TS1.js";import{L as k}from"./loader-circle-BwTFM76g.js";import{S as E}from"./square-pen-Cs_ObRYD.js";function A(){const{id:r}=g(),x=j(),[t,m]=a.useState(null),[l,u]=a.useState(null),[b,h]=a.useState(!0),[n,i]=a.useState(null);return a.useEffect(()=>{r&&(h(!0),N(Number(r)).then(s=>(m(s.data),s.data.tutorId?v(s.data.tutorId):null)).then(s=>{s&&u(s.data),i(null)}).catch(s=>{console.error("Erro ao buscar detalhes, tentando mocks:",s);const d=w.find(o=>o.id===Number(r));if(d){m(d);const o=P.find(f=>f.id===d.tutorId);o&&u(o),i("Nota: Exibindo dados locais.")}else i("Pet n√£o encontrado.")}).finally(()=>h(!1)))},[r]),b?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(k,{className:"animate-spin mx-auto mb-2"})," Carregando detalhes..."]}):!t&&!b?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(p,{size:48,className:"mx-auto text-red-500 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Pet n√£o encontrado ou erro na conex√£o."}),e.jsx("button",{onClick:()=>x("/"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Voltar para Home"})]}):e.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[e.jsxs("button",{onClick:()=>x(-1),className:"mb-6 flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(y,{size:20})," Voltar"]}),n&&n.includes("locais")&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 text-amber-700 px-4 py-2 rounded-lg mb-6 text-sm flex items-center gap-2",children:[e.jsx(p,{size:16})," ",n]}),e.jsxs("div",{className:"bg-white border rounded-2xl shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"relative h-80 bg-gray-100",children:[t?.foto?e.jsx("img",{src:t.foto,alt:t.nome,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-8xl",children:"üêæ"}),e.jsx(c,{to:`/pet-form/${t?.id}`,className:"absolute top-4 right-4 bg-white p-3 rounded-full shadow-lg text-blue-600 hover:scale-110 transition-transform",children:e.jsx(E,{size:24})})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:t?.nome}),e.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-bold uppercase tracking-wider",children:t?.especie})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-10",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:"Idade"}),e.jsxs("p",{className:"text-xl font-semibold text-gray-800",children:[t?.idade," ",t?.idade===1?"ano":"anos"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:"Status"}),e.jsx("p",{className:"text-xl font-semibold text-green-600",children:"Ativo"})]})]}),l?e.jsxs("div",{className:"border-t pt-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Informa√ß√µes do Tutor"}),e.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-6 rounded-2xl flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-gray-800 mb-1",children:l.nome}),e.jsx("p",{className:"text-gray-600",children:l.telefone})]}),e.jsx(c,{to:`/tutor/${l.id}`,className:"bg-white text-blue-600 px-4 py-2 rounded-lg font-semibold shadow-sm hover:bg-blue-600 hover:text-white transition-all",children:"Ver Perfil"})]})]}):e.jsxs("div",{className:"border-t pt-8 text-center py-6",children:[e.jsx("p",{className:"text-gray-500 italic",children:"Este pet ainda n√£o possui um tutor vinculado."}),e.jsx(c,{to:`/pet-form/${t?.id}`,className:"text-blue-600 font-semibold hover:underline mt-2 inline-block",children:"Vincular um tutor agora"})]})]})]})]})}export{A as default};
