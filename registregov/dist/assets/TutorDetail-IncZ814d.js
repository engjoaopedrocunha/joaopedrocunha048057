import{u as b,a as y,r as l,j as e,L as h}from"./index-C-bofkHd.js";import{g as v,A as g}from"./tutores-Cr8ILfQa.js";import{g as P}from"./pets-yUH3lGM-.js";import{P as k}from"./PetCard-2FqP7e6o.js";import{c,L as w}from"./loader-circle-BwTFM76g.js";import{S as z}from"./square-pen-Cs_ObRYD.js";const L=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],A=c("mail",L);const C=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],E=c("map-pin",C);const S=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],_=c("phone",S);function B(){const{id:a}=b(),d=y(),[s,p]=l.useState(null),[o,f]=l.useState([]),[j,m]=l.useState(!0),[x,u]=l.useState(null);return l.useEffect(()=>{a&&(m(!0),Promise.all([v(Number(a)),P(1,100)]).then(([t,N])=>{p(t.data);const r=N.data;let n=[];Array.isArray(r)?n=r.filter(i=>i.tutorId===Number(a)):r&&"content"in r&&(n=r.content.filter(i=>i.tutorId===Number(a))),f(n),u(null)}).catch(t=>{console.error("Erro ao buscar detalhes do tutor:",t),u(t.message||"Tutor não encontrado.")}).finally(()=>m(!1)))},[a]),j?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(w,{className:"animate-spin mx-auto mb-2"})," Carregando detalhes..."]}):x||!s?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("p",{className:"text-red-500 mb-4",children:x||"Tutor não encontrado."}),e.jsxs("button",{onClick:()=>d("/"),className:"text-blue-500 hover:underline flex items-center justify-center gap-2 mx-auto",children:[e.jsx(g,{size:16})," Voltar para Home"]})]}):e.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[e.jsxs("button",{onClick:()=>d(-1),className:"mb-6 flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(g,{size:20})," Voltar"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"bg-white border rounded-xl shadow-sm p-6 sticky top-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-3xl font-bold",children:s.nome.charAt(0)}),e.jsx(h,{to:`/tutor-form/${s.id}`,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:e.jsx(z,{size:20})})]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:s.nome}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[e.jsx(_,{size:18,className:"text-gray-400"}),e.jsx("span",{children:s.telefone})]}),s.email&&e.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[e.jsx(A,{size:18,className:"text-gray-400"}),e.jsx("span",{className:"truncate",children:s.email})]}),s.endereco&&e.jsxs("div",{className:"flex items-start gap-3 text-gray-600",children:[e.jsx(E,{size:18,className:"text-gray-400 mt-1"}),e.jsx("span",{children:s.endereco})]})]})]})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Pets Vinculados (",o.length,")"]}),e.jsx(h,{to:"/pet-form",className:"text-sm bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 transition-colors",children:"+ Novo Pet"})]}),o.length===0?e.jsx("div",{className:"bg-gray-50 border border-dashed border-gray-300 rounded-xl p-10 text-center text-gray-500",children:"Este tutor ainda não possui pets cadastrados."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:o.map(t=>e.jsx(k,{pet:t},t.id))})]})]})]})}export{B as default};
